<launch>

  <arg name="recordFile" default= "none" />
  <arg name="slamType" default= "none" />
    <group unless="$(eval '\'$(var recordFile)\' == \'none\'')">

      <group if="$(eval '\'$(var slamType)\' == \'rtab\'')">
        <executable cmd="ros2 bag record /cmd_vel /joy /traxter/encoder/ticks /traxter/imu/data/unprocessed /traxter/motor/command /joy/set_feedback /imu /camera/aligned_depth_to_color/camera_info /camera/aligned_depth_to_color/image_raw /camera/color/metadata /camera/depth/camera_info /camera/depth/metadata /camera/extrinsics/depth_to_color /camera/extrinsics/depth_to_depth /cloud_ground /cloud_map /cloud_obstacles /depth/image /diagnostics /global_path /global_path_nodes /global_pose /goal /goal_node /goal_out /goal_reached /gps/fix /grid_prob_map /info /initialpose /joint_states /labels /landmarks /laser_status /local_grid_empty /local_grid_ground /local_grid_obstacle /local_path /local_path_nodes /localization_pose /map /mapData /mapGraph /mapOdomCache /mapPath /octomap_binary /octomap_empty_space /octomap_full /octomap_global_frontier_space /octomap_grid /octomap_ground /octomap_obstacles /octomap_occupied_space /odom /republish_node_data /rgb/camera_info /rgb/image /rgbd_image /robot_description /scan /set_pose /tf /tf_static /traxter/odometry/raw /user_data_async -o $(var recordFile)" output="screen" /> 
      </group>

      <group if="$(eval '\'$(var slamType)\' == \'tools\'')">
        <executable cmd="ros2 bag record /cmd_vel /joy /traxter/encoder/ticks /traxter/imu/data/unprocessed /traxter/motor/command /joy/set_feedback /imu /camera/aligned_depth_to_color/camera_info /camera/aligned_depth_to_color/image_raw /camera/color/metadata /camera/depth/camera_info /camera/depth/metadata /camera/extrinsics/depth_to_color /camera/extrinsics/depth_to_depth /depth/image /diagnostics /joint_states /laser_status /map /odom /rgb/camera_info /rgb/image /robot_description /scan /tf /tf_static /traxter/odometry/raw /pose /map_metadata /slam_toolbox/feedback /slam_toolbox/graph_visualization /slam_toolbox/scan_visualization /slam_toolbox/update -o $(var recordFile)" output="screen" /> 
      </group>

      <group if="$(eval '\'$(var slamType)\' == \'carto\'')">
        <executable cmd="ros2 bag record /cmd_vel /joy /traxter/encoder/ticks /traxter/imu/data/unprocessed /traxter/motor/command /joy/set_feedback /imu /camera/aligned_depth_to_color/camera_info /camera/aligned_depth_to_color/image_raw /camera/color/metadata /camera/depth/camera_info /camera/depth/metadata /camera/extrinsics/depth_to_color /camera/extrinsics/depth_to_depth /depth/image /diagnostics /joint_states /laser_status /map /odom /rgb/camera_info /rgb/image /robot_description /scan /tf /tf_static /traxter/odometry/raw /submap_list /tracked_pose /landmark_poses_list /constraint_list /trajectory_node_list /scan_matched_points2 -o $(var recordFile)" output="screen" /> 
      </group>

      <group if="$(eval '\'$(var slamType)\' == \'none\'')">
        <executable cmd="ros2 bag record /cmd_vel /joy /traxter/encoder/ticks /traxter/imu/data/unprocessed /traxter/motor/command /joy/set_feedback /imu /joint_states /odom /robot_description /tf /tf_static /traxter/odometry/raw -o $(var recordFile)" output="screen" /> 
      </group>

    </group>
</launch>